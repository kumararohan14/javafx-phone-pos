<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<BorderPane prefHeight="702.0" prefWidth="1424.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.dashBoard.DashboardController">
    <stylesheets>
        <URL value="@styles.css" />
        <URL value="@style.css" />
    </stylesheets>
    <left>
        <VBox prefWidth="250" styleClass="sidebar">
            <VBox styleClass="sidebar-section">
                <Label styleClass="logo-text" text="POS" />
            </VBox>

            <VBox spacing="5" styleClass="sidebar-menu-group">
                <Label styleClass="group-header" text="MARKETING" />
                <Button styleClass="sidebar-button" text="Dashboard" />
                <Button styleClass="sidebar-button" text="Marketplace" />
            </VBox>

            <VBox spacing="5" styleClass="sidebar-menu-group">
                <Label styleClass="group-header" text="ORDERS" />
                <Button styleClass="sidebar-button" text="Orders" />
                <Button styleClass="sidebar-button-active" text="Tracking" /> <Button onAction="#btnViewCustomerOnAction" styleClass="sidebar-button" text="Customers" />
                <Button styleClass="sidebar-button" text="Discounts" />
                <Button layoutX="10.0" layoutY="44.0" onAction="#btnViewOrderFormOnAcction" styleClass="sidebar-button" text="POS" />
                <Button layoutX="10.0" layoutY="44.0" onAction="#btnViewItemOnAction" styleClass="sidebar-button" text="Item" />
            </VBox>

            <VBox VBox.vgrow="ALWAYS" /> <VBox styleClass="sidebar-user-info">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Region prefHeight="30" prefWidth="30" styleClass="user-avatar-placeholder" />
                <VBox>
                    <Label styleClass="user-name" text="Pradeep Rathnayaka" />
                    <Label styleClass="user-role" text="Admin Manager" />
                </VBox>
            </HBox>
            <Button styleClass="logout-button" text="Log out" />
        </VBox>
            <padding>
                <Insets bottom="20" left="15" right="15" top="20" />
            </padding>
        </VBox>
    </left>
    <!-- MAIN CONTENT -->
    <center>
        <VBox style="-fx-background-color: #F9FAFB;">
            <!-- TOP HEADER BAR -->
            <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: white; -fx-padding: 15 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.03), 5, 0, 0, 1);">
                <!-- Search Bar -->
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #F3F4F6; -fx-background-radius: 10; -fx-padding: 8 15; -fx-pref-width: 350;">
                    <Label style="-fx-font-size: 14px;" text="ðŸ”" />
                    <TextField promptText="Search here..." style="-fx-background-color: transparent; -fx-border-color: transparent; -fx-font-size: 13px;" HBox.hgrow="ALWAYS" />
                </HBox>

                <Region HBox.hgrow="ALWAYS" />

                <!-- Right Side Icons -->
                <HBox alignment="CENTER" spacing="15">
                    <Button style="-fx-background-color: #F3F4F6; -fx-background-radius: 10; -fx-padding: 8 12; -fx-cursor: hand; -fx-border-color: transparent;" text="â˜€ï¸" />
                    <Button style="-fx-background-color: #F3F4F6; -fx-background-radius: 10; -fx-padding: 8 12; -fx-cursor: hand; -fx-border-color: transparent;" text="ðŸ˜Š" />
                    <Button style="-fx-background-color: #F3F4F6; -fx-background-radius: 10; -fx-padding: 8 12; -fx-cursor: hand; -fx-border-color: transparent;" text="ðŸ””" />
                    <Button style="-fx-background-color: #F3F4F6; -fx-background-radius: 10; -fx-padding: 8 12; -fx-cursor: hand; -fx-border-color: transparent;" text="âœ‰ï¸" />

                    <!-- User Profile -->
                    <HBox alignment="CENTER" spacing="10" style="-fx-cursor: hand;">
                        <VBox alignment="CENTER_RIGHT" spacing="0">
                            <Label style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="Patricia Peters" />
                            <Label style="-fx-font-size: 11px; -fx-text-fill: #10B981;" text="â— Online" />
                        </VBox>
                        <Circle fill="#FCD34D" radius="18" />
                        <Button style="-fx-background-color: transparent; -fx-cursor: hand; -fx-border-color: transparent;" text="âš™ï¸" />
                    </HBox>
                </HBox>
            </HBox>

            <!-- DASHBOARD CONTENT -->
            <AnchorPane fx:id="root" onDragDetected="#btnViewItemOnAction" style="-fx-padding: 25;">
                <children>
                    <!-- STATS CARDS ROW -->
                    <HBox layoutX="0" layoutY="0" spacing="20" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
                        <!-- Revenue Card -->
                        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 240;">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 20px;" text="ðŸ’°" />
                                <Label style="-fx-font-size: 13px; -fx-text-fill: #6B7280; -fx-font-weight: 500;" text="Revenue" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label style="-fx-font-size: 16px; -fx-text-fill: #10B981;" text="ã€°ï¸" />
                            </HBox>
                            <Label fx:id="txtRevenue" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="12,234" />
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-background-color: #D1FAE5; -fx-text-fill: #10B981; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 3 8; -fx-background-radius: 6;" text="â†— 25%" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #9CA3AF;" text="From last month" />
                            </HBox>
                        </VBox>

                        <!-- Costs Card -->
                        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 240;">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 20px;" text="âš™ï¸" />
                                <Label style="-fx-font-size: 13px; -fx-text-fill: #6B7280; -fx-font-weight: 500;" text="Costs" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label style="-fx-font-size: 16px; -fx-text-fill: #EF4444;" text="ã€°ï¸" />
                            </HBox>
                            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="2,495" />
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-background-color: #FEE2E2; -fx-text-fill: #EF4444; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 3 8; -fx-background-radius: 6;" text="â†˜ 5%" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #9CA3AF;" text="From last month" />
                            </HBox>
                        </VBox>

                        <!-- Profits Card -->
                        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 240;">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 20px;" text="ðŸ’µ" />
                                <Label style="-fx-font-size: 13px; -fx-text-fill: #6B7280; -fx-font-weight: 500;" text="Profits" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label style="-fx-font-size: 16px; -fx-text-fill: #10B981;" text="ã€°ï¸" />
                            </HBox>
                            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="9,274" />
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-background-color: #D1FAE5; -fx-text-fill: #10B981; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 3 8; -fx-background-radius: 6;" text="â†— 15%" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #9CA3AF;" text="From last month" />
                            </HBox>
                        </VBox>

                        <!-- Shipments Card -->
                        <VBox spacing="8" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 240;">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 20px;" text="ðŸ“¦" />
                                <Label style="-fx-font-size: 13px; -fx-text-fill: #6B7280; -fx-font-weight: 500;" text="Shipments" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label style="-fx-font-size: 16px; -fx-text-fill: #EF4444;" text="ã€°ï¸" />
                            </HBox>
                            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="8,472" />
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-background-color: #FEE2E2; -fx-text-fill: #EF4444; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 3 8; -fx-background-radius: 6;" text="â†˜ 10%" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #9CA3AF;" text="From last month" />
                            </HBox>
                        </VBox>
                    </HBox>

                    <!-- CHARTS ROW -->
                    <HBox layoutY="180" spacing="20" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
                        <!-- Line Chart -->
                        <VBox style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 650;">
                            <HBox alignment="CENTER_LEFT" spacing="15">
                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="Yearly Order Rate" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Button style="-fx-background-color: transparent; -fx-text-fill: #6B7280; -fx-font-size: 12px; -fx-cursor: hand;" text="Week" />
                                <Button style="-fx-background-color: transparent; -fx-text-fill: #7C3AED; -fx-font-size: 12px; -fx-font-weight: bold; -fx-cursor: hand;" text="Month" />
                            </HBox>
                            <LineChart fx:id="lineChart" legendVisible="false" prefHeight="300" prefWidth="600" style="-fx-padding: 10 0 0 0;">
                                <xAxis>
                                    <CategoryAxis side="BOTTOM" tickLabelFill="#9CA3AF" />
                                </xAxis>
                                <yAxis>
                                    <NumberAxis side="LEFT" tickLabelFill="#9CA3AF" />
                                </yAxis>
                            </LineChart>
                        </VBox>

                        <!-- Carrying Costs Bar Chart -->
                        <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 10, 0, 0, 2); -fx-pref-width: 350;">
                            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="Carrying Costs" />
                            <Label style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #1F2937;" text="2,847.90" />
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-background-color: #D1FAE5; -fx-text-fill: #10B981; -fx-font-size: 11px; -fx-font-weight: bold; -fx-padding: 3 8; -fx-background-radius: 6;" text="â†— 25%" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #9CA3AF;" text="from last week" />
                            </HBox>
                            <BarChart barGap="0" categoryGap="15" legendVisible="false" prefHeight="220" prefWidth="300">
                                <xAxis>
                                    <CategoryAxis side="BOTTOM" tickLabelFill="#9CA3AF" tickLabelsVisible="true" />
                                </xAxis>
                                <yAxis>
                                    <NumberAxis side="LEFT" tickLabelsVisible="false" />
                                </yAxis>
                            </BarChart>
                        </VBox>
                    </HBox>
                </children>
            </AnchorPane>
        </VBox>
    </center>
</BorderPane>
